import sys

# 문장 출력
print("인연을 찾아 떠나는 모험")
print("주말 오후, 당신은 낮잠을 자다 일어나 보니 다른 세계에 와 있었습니다.")
print("당신의 앞에는 처음 보는 사람들과 물건들이 가득합니다. 그리고 당신은 세 가지 길 중 하나를 선택할 수 있습니다.")

# 변수 설정
option1 = "사냥꾼들을 따라 남쪽으로 간다."
option2 = "상인들을 따라 동쪽으로 간다."
option3 = "아무도 없는 길로 간다."

# 스토리의 분기
print("1:", option1)
print("2:", option2)
print("3:", option3)

# 사용자 입력 받기 및 유효성 검사
while True:
    choice = input("어느 길을 선택하시겠습니까? (1, 2, 3): ")
    if choice in ['1', '2', '3']:
        break
    else:
        print("잘못된 선택입니다. 다시 시도해 주세요.")

# 분기 설정
if choice == '1':
    print("어떤 사냥꾼이 나에게 말을 건다. 그는 자신의 이름을 '만도라'라고 소개한다.")
    print("보아하니 넌 이곳에 대해 잘 모르는 것 같아. 경험 많은 사냥꾼인 나와 함께한다면 너에게 많은 도움이 될거야.")
    
    while True:
        follow_choice = input("Y= '만도라를 따라간다.' N= '처음보는 사람을 믿을 수는 없다. 나 홀로 간다.': ")
        if follow_choice in ['Y', 'N']:
            break
        else:
            print("잘못된 선택입니다. 다시 시도해 주세요.")
    
    if follow_choice == 'Y':
        print("만도라는 당신의 대답이 마음에 들었는지 자신의 짐을 실은 늑대의 등 위에 당신을 태워줍니다.")
        
        # 새로운 분기 추가
        print("만도라와 여행하는 첫쨋 날, 당신과 그는 굶주린 들개 때를 만납니다. 당신은 그를 도와 들개들과 싸우겠습니까?")
        print("1: 싸운다.")
        print("2: 안전한 곳에 숨는다.")
        
        # 용맹의 증표 초기화
        bravery_token1 = 0
        
        while True:
            fight_choice = input("어떤 선택을 하시겠습니까? (1, 2): ")
            if fight_choice in ['1', '2']:
                break
            else:
                print("잘못된 선택입니다. 다시 시도해 주세요.")
        
        if fight_choice == '1':
            bravery_token1 = 1
            print("당신과 만도라는 용감하게 들개들과 싸워 이겼습니다. 용맹의 증표 값이 0에서 1로 바뀌었습니다.")
        elif fight_choice == '2':
            print("당신은 안전한 곳에 숨었습니다. 만도라는 혼자서 들개들과 싸워야 했습니다.")
            bravery_token1 = 0
        
        print("만도라와 여행한지 이틀째 되는 날, 이번에 당신들은 산적들과 만났습니다. 그들은 당신과 만도라가 가진 모든 것을 내놓으면 그냥 지나가게 해주겠다고 합니다. 어떻게 할까요?")
        print("1: 뭐 가진게 얼마 있지도 않은데, 그냥 다 주고 편하게 가자.")
        print("2: 무고한 사람들에게서 재물을 갈취하는 이들을 그냥 두고볼 순 없다. 이자들에게 본때를 보여줘야겠다.")
        
        while True:
            bandit_choice = input("어떤 선택을 하시겠습니까? (1, 2): ")
            if bandit_choice in ['1', '2']:
                break
            else:
                print("잘못된 선택입니다. 다시 시도해 주세요.")
        
        if bandit_choice == '1':
            print("산적들의 수가 너무 많아 당신과 만도라는 도망쳐야 했습니다. 만도라는 당신에게 조금 실망했을지도..?")
            bravery_token2 = 0
        elif bandit_choice == '2':
            bravery_token2 = 2
            print("만도라와 당신은 이 부정의한 일당을 용서할 수 없었습니다. 당신들은 산적들과 싸우는 걸 멈추지 않았고 마침내 그들의 대장을 해치우는데 성공합니다.")
        
        # 용기의 증표 총합 계산
        total_bravery = bravery_token1 + bravery_token2
        print("지금까지 모은 용기의 증표 총합:", total_bravery)
        
        # 최종 분기
        print("수많은 우여곡절 끝에 당신은 원래 세계로 돌아갈 수 있는 '모든 꿈이 시작되는 곳'에 도착했습니다.")
        if total_bravery >= 2:
            print("만도라는 당신의 용기를 높게 사 당신에게 '늑대의 늑골'을 줍니다.")
            wolf_rib = True
        else:
            print("만도라는 당신을 데려다 준 후 유유히 떠나갑니다.")
            wolf_rib = False
        
        print("그 때 이 세계의 절대자 '슈브 니구라스'가 등장해 당신에게 당신의 가치를 증명하라고 합니다.")
        if wolf_rib:
            print("당신은 원래 세계로 돌아갈 수 있게 되었습니다.")
        else:
            print("슈브 니구라스는 당신에게 어떠한 흥미도 느끼지 못했습니다. 그녀가 돌아서자 당신은 만개의 조각으로 흩어집니다.모험은 끝났습니다.")
        sys.exit()  # 프로그램 종료
    elif follow_choice == 'N':
        print("낯선곳에서 홀로 여행하는건 좋은 생각이 아니죠..당신은 이틀동안 굶주린 들개들한테 쫓기다가 식인 곤충에 둥지에 들어가 잡아먹힙니다. 이제 원래 세상으로 돌아갈 수는 없을것 같네요..")
        sys.exit()  # 프로그램 종료
elif choice == '2':
    print("당신은 동쪽으로 향합니다. 상인들이 당신에게 다양한 물건을 보여줍니다.")
    print("한 상인이 다가와 말을 겁니다. 그는 자신의 이름을 '아이드'라고 소개합니다.")
    print("'안녕! 보아하니 넌 이 세계 사람이 아니구나? 그치?'")
    print("'너..힘좀 쓸것 같이 생겼는데, 내 여행길에 함께하지 않을래? 대신 내가 집으로 가는 방법을 알려줄게!'")
    
    while True:
        follow_choice = input("Y= '아이드를를 따라간다.' N= '혼자서 집에 가는길을 찾아본본다.': ")
        if follow_choice in ['Y', 'N']:
            break
        else:
            print("잘못된 선택입니다. 다시 시도해 주세요.")
    
    if follow_choice == 'Y':
        print("당신은 아이드를 따라 사막을 건너 '모든 꿈이 시작되는 곳'에 가기로 했습니다.")
        print("아이드는 까만 피부와 머릿결이 매력적인 소녀였습니다.그는 당신과 여행하는게 즐거운 모양입니다.여행을 하던 중 오아시스 시장에 들리자 많은 아이들이 아이드를 반가워합니다.")
        print("아이가 말합니다.'아이드 누나! 이번에는 재밌는거 안 가져왔어? 지난번에 가져다준 장난감은 재미없단 말이야!'아이드는 난감해 보입니다. 어쩌면 당신이 아이드를 도와줄 수 있을지도 몰라요!")
        print("당신의 주머니에는 현실에서 가져온 몇가지 물건들이 있습니다. 어떤 물건에 아이가 흥미를 보일까요?")
        item = input("어떤 물건을 아이에게 주시겠습니까? (젤리, 동전, 학생증): ")

# 조건에 따른 출력
        snake_medal = 0
        if item == '젤리' or item == '동전':
            print("아이가 물건에 흥미를 보입니다. 아이드도 기뻐하네요.")
            print("'고마워..너한테는 소중한 물건일텐데..이번에는 바빠서 아이들에게 줄 선물을 까먹었지 뭐야?'.'어쨌든 내가 너한테 빚진거니까..이걸 줄게!'아이드가 당신에게 뱀이 그려진 메달을 건넵니다.")
            snake_medal = 1
        elif item == '학생증':
            print("아이가 실망합니다. 물론 아이드도요.")
        else:
            print("알 수 없는 물건입니다. 다시 시도해 주세요.")
        print("당신과 아이드는 계속 여행을 합니다.둘은 그 사이 많이 친해져 이제는 헤어지기가 아쉽습니다.어느새 목적지가 눈앞에 보이고 당신들은 마지막 밤은 같이 보내기로 합니다.")
        print("다음날 아침,아이드는 이 근처에 아주 맛있는 양고기를 파는 곳이 있다며 당신에게 마지막으로 식사를 대접하고 싶다고 합니다.아이드와 마지막 식사를 함께 하시겠습니까?")
        print("1: 같이 식사를 한다.")
        print("2: 어서 집으로 돌아간다.")
        while True:
            choice = input("어떤 선택을 하시겠습니까? (1, 2): ")
            if choice in ['1', '2']:
                break
            else:
                print("잘못된 선택입니다. 다시 시도해 주세요.")
        if choice == '1':
                print("양고기는 정말 맛있었습니다. 그런데 식사 도중 온 몸에 하얀 옷을 입고 뱀 문양이 새겨진 칼을 찬 기마병들이 가게로 난입합니다!")
                print("기마병 중 대장으로 보이는 자가 말합니다.'서기관님! 저희가 얼마나 찾았는지 아십니까?! 총리대신께서는 잠도 못 주무시고 계십니다!도대체 여기서 뭘 하고 계신겁니까??")
                print("당신은 겁에 질렸습니다.그러나 아이드는 잠시 당황하더니 오히려 당당하게 말합니다.")
                print("아..하? 내가 너희한테는 말 안했나? 이번에는 그냥 직무를 유기하고 나온게 아냐..내..신랑이 될 남자를 찾으러 나온거라고!!")
                print("아이고,당신은 당신도 모르는 사이에 '로마의 휴일' 한편을 찍었군요.기마병들은 기대에 가득 찬 눈빛으로 당신을 바라보고 있습니다.")
                print("그래서 당신은,알고보니 이 나라 최고 권력자의 외동딸이면서 돈도 많고 얼굴도 아름다운, 마음씨까지 착한 아이드의 남편이 되겠습니까?")
               # 선택지 출력
                print("1: 좋아요")
                print("2: 너무 좋아요!")
                # 사용자 입력 받기 및 유효성 검사
                while True:
                    choice = input("어떤 선택을 하시겠습니까? (1, 2): ")
                    if choice in ['1', '2']:
                        break
                    else:
                        print("다시 생각해 보세요,진심입니다.")
                    # 결과 출력
                if choice =='1'or'2':
                    print("그렇게 당신은 아이드와 함께 더 많은걸 배우고, 보고, 들으며 행복하게 살았습니다.")
                    sys.exit()
                
        elif choice == '2':
                print("당신은 홀로 '모든 꿈이 시작되는 곳'으로 갑니다.")
                print("그곳에는 '슈그 니구라스'가 당신을 기다리고 있습니다.")
                print("니구라스는 당신에게 '증표를 보여달라고 합니다.")
                if snake_medal == 1:
                        print("니구라스는 당신이 마음에 들지는 않지만 마지못해 원래 있던 곳으로 보내줍니다.")
                        sys.exit()  
                else:
                    print("니구라스가 말합니다.'난 너에게 자비를 베풀어 이곳으로 초대하고, 좋은 인연을 만나게 해줬건만,'")
                    print("'네녀석은 주제도 모르고 낙원으로부터 도망치려고 하는군'")
                    print("'네가 원래 있던 장소로,그래, 돌려보내주마..앞으로 평생을 네가 잃은것에 대해 후회하며 살아라'")
                    sys.exit()
    elif follow_choice == 'N':
        print("당신은 혼자서 길을 찾아보지만, 길을 잃고 말았습니다. 결국, 당신은 다시 출발점으로 돌아옵니다.")
elif choice == '3':
    print("당신은 아무도 없는 길로 향합니다. 길 끝에서 신비로운 풍경을 발견합니다.")
    print("여긴 정말 아무것도 없습니다. 심지어 당신의 존재조차도 부정됩니다.")
    print("당신의 모험은 이곳에서 끝납니다. 아무도 당신을 기억하지 못할 것입니다.")
    sys.exit()
